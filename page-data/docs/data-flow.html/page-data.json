{"componentChunkName":"component---src-templates-docs-js","path":"/docs/data-flow.html","result":{"data":{"markdownRemark":{"html":"<h2 id=\"watch-an-explanation-video\"><a href=\"#watch-an-explanation-video\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Watch an explanation video</h2>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; \" > <div class=\"video\"> <iframe src=\"https://www.youtube.com/embed/3T3OeCaSWLA\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div> </div>\n<h2 id=\"the-data-flow-diagram\"><a href=\"#the-data-flow-diagram\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The data-flow diagram</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"gatsby-code-text\"><code class=\"gatsby-code-text\">                 +-------------+\n   1 user input  |             |\n+----------------&gt; A Component |\n                 |             |\n                 +-----------^-+                          +------------------------------+\n                   |         |                            |                              |\n  2 State changing |         | 8 Container updates        |   Magento (GraphQL server)   &lt;---+\n  user interaction |         | props of child component   |                              |   |\n                   |         |                            +------------------------^-----+   |\n             +------------------------+                                            |         |\n             |                        |                                            |         |\n             |     B Container        |                                            |         |\n             |                        | NO      The data is requested from server  |         |\n             |  Does it affect global +--------------------------------------------+         |\n             |  state?                |                                                      |\n             |                        |                                                      |\n             +------------------------+                                                      |\n               Y|     |                  Helpers are invoked                                 |\n   * NOTE #1   E|     +--------------------------------------+                               |\n               S|                                            |                               |\n             +--v---------------------+                      |                               |\n             |                        |                  +---v---------------------------+   |\n             |    Is action result    |                  |                               |   |\n        +----&gt;      synchronous?      |                  |  E Utility / Helper function  |   |\n        |    |                        |                  |                               |   |\n        |    +------------------------+                  +------------------^------------+   |\n        |       |                  |                                        |          |     |\n        |     Y |                N | 3 Payload is passed to                 |          |     |\n        |     E |                O | asynchronous action dispatcher         |          |     |\n        |     S |                  |                                        |          |     |\n        |       |     +------------v----------+    4 Helpers are invoked    |          |     |\n        |       |     |                       +-----------------------------+          |     |\n        |       |     |  C Action Dispatcher  |                                        |     |\n        |       |     |                       &lt;----------------------------------------+     |\n        |       |     +-----------------------+   5 Asynchronous response is returned        |\n        |       |        |             |                                                     |\n        |       |        |             |             The data is requested from server       |\n        |       |        |             +-----------------------------------------------------+\n        |       |        |\n        |       |        |\n        |       |        |                   +--------------------+\n        |       |        |                   |                    |\n        |       +--------v-------------------&gt;  D Action Reducer  +----+\n        |           6 Action is dispatched   |                    |    |\n        |                                    +--------------------+    |\n        |                                                              |\n        +--------------------------------------------------------------+\n                    7 Action result updates the state</code></pre></div>\n<h2 id=\"who-are-the-main-actors\"><a href=\"#who-are-the-main-actors\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Who are the main actors?</h2>\n<ul>\n<li>\n<p><strong>A</strong> – Component</p>\n<ul>\n<li>Naming convention: <code class=\"gatsby-code-text\">Feature.component.js</code></li>\n<li>Implements the data display functional</li>\n</ul>\n</li>\n<li>\n<p><strong>B</strong> – Container</p>\n<ul>\n<li>Naming convention: <code class=\"gatsby-code-text\">Feature.container.js</code></li>\n<li>Relates the component with Redux global state</li>\n</ul>\n</li>\n<li>\n<p><strong>E</strong> – Utility / Helper function</p>\n<ul>\n<li>Naming convention: <code class=\"gatsby-code-text\">Helper.js</code></li>\n<li>Utility functional which implements the common logic</li>\n</ul>\n</li>\n<li>\n<p><strong>GraphQL server</strong></p>\n<ul>\n<li>The Magento 2, working via the GraphQL API</li>\n</ul>\n</li>\n</ul>\n<p>Following parts (after the <strong>NOTE #1</strong>), are only involved if the global state update is required:</p>\n<ul>\n<li>\n<p><strong>unmentioned</strong> – Action Declaration</p>\n<ul>\n<li>Naming convention: <code class=\"gatsby-code-text\">Feature.action.js</code></li>\n<li>Declare action interface (arguments and returned values)</li>\n</ul>\n</li>\n<li>\n<p><strong>C</strong> – Action Dispatcher</p>\n<ul>\n<li>Naming convention: <code class=\"gatsby-code-text\">Feature.dispatcher.js</code></li>\n<li>Dispatches the Redux global state actions</li>\n</ul>\n</li>\n<li>\n<p><strong>D</strong> – Action Reducer</p>\n<ul>\n<li>Naming convention: <code class=\"gatsby-code-text\">Feature.reducer.js</code></li>\n<li>Handles the state update, applies Redux action results to global state</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"what-is-going-on\"><a href=\"#what-is-going-on\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is going on?</h2>\n<blockquote>\n<p><strong>Note</strong>:</p>\n<p>the passthrough to the Redux is not obligatory, I would say it is an anti-pattern. You must only involve the Redux (global state), if more than one or two components in completely different places of application must know about that. The best examples are: <code class=\"gatsby-code-text\">cart</code>, <code class=\"gatsby-code-text\">account</code>. ScandiPWA has some redundant states in it. Their amount will be reduced in the future.</p>\n</blockquote>\n<ol>\n<li>User input (<code class=\"gatsby-code-text\">User -&gt; A</code>)</li>\n<li>Global state changing user interaction (<code class=\"gatsby-code-text\">A -&gt; B</code>)</li>\n<li>Event payload is passed to asynchronous action dispatcher (<code class=\"gatsby-code-text\">B -&gt; C</code>)</li>\n<li>Helpers are invoked (<code class=\"gatsby-code-text\">C -&gt; E</code>)</li>\n<li>Asynchronous response is returned from helper (<code class=\"gatsby-code-text\">E -&gt; C</code>)</li>\n<li>Action is dispatched (<code class=\"gatsby-code-text\">C -&gt; D</code>, <code class=\"gatsby-code-text\">B -&gt; D</code>)</li>\n<li>Action result updates the state (<code class=\"gatsby-code-text\">D -&gt; B</code>)</li>\n<li>Container updates props of child component (<code class=\"gatsby-code-text\">B -&gt; A</code>)</li>\n</ol>","frontmatter":{"title":"Data-flow diagram"},"fields":{"path":"content/docs/data-flow.md","slug":"/docs/data-flow.html"}}},"pageContext":{"slug":"/docs/data-flow.html"}},"staticQueryHashes":[]}